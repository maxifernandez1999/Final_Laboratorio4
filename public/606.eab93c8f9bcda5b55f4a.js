"use strict";(self.webpackChunkclinica_online=self.webpackChunkclinica_online||[]).push([[606],{2606:(Xo,B,h)=>{h.r(B),h.d(B,{TurnosModule:()=>Wo});var T=h(8583),C=h(9528),L=h(1896),M=h(6124),i=h(3018),q=h(6893);let R=(()=>{class t{constructor(o,e){this.as=o,this.router=e}canActivate(o,e){return"admin"===this.as.logeado.perfil||"paciente"===this.as.logeado.perfil||(this.router.navigate(["/errorPacienteAdministrador"]),!1)}}return t.\u0275fac=function(o){return new(o||t)(i.LFG(q.e),i.LFG(C.F0))},t.\u0275prov=i.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),O=(()=>{class t{constructor(o,e){this.as=o,this.router=e}canActivate(o,e){return"especialista"===this.as.logeado.perfil||"paciente"===this.as.logeado.perfil||(this.router.navigate(["/errorPacienteEspecialista"]),!1)}}return t.\u0275fac=function(o){return new(o||t)(i.LFG(q.e),i.LFG(C.F0))},t.\u0275prov=i.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var r=h(3679),U=h(4144),N=h(9344),P=h(7005),J=h(2163);function j(t,n){1&t&&(i.TgZ(0,"h2",9),i._uU(1,"No hay turnos"),i.qZA())}function $(t,n){1&t&&(i.TgZ(0,"b"),i._uU(1,"Comentario Especialista:"),i.qZA())}function G(t,n){1&t&&(i.TgZ(0,"b"),i._uU(1,"Comentario Paciente:"),i.qZA())}function V(t,n){1&t&&(i.TgZ(0,"b"),i._uU(1,"Comentario Administrador:"),i.qZA())}function W(t,n){if(1&t&&(i.TgZ(0,"p"),i.YNc(1,$,2,0,"b",2),i._uU(2),i.YNc(3,G,2,0,"b",2),i._uU(4),i.YNc(5,V,2,0,"b",2),i._uU(6),i.qZA()),2&t){const o=i.oxw().$implicit;i.xp6(1),i.Q6J("ngIf",null!=o.comentarioEspecialista),i.xp6(1),i.hij(" ",o.comentarioEspecialista," "),i.xp6(1),i.Q6J("ngIf",null!=o.comentarioPaciente),i.xp6(1),i.hij(" ",o.comentarioPaciente," "),i.xp6(1),i.Q6J("ngIf",null!=o.comentarioAdministrador),i.xp6(1),i.hij(" ",o.comentarioAdministrador," ")}}function X(t,n){if(1&t){const o=i.EpF();i.TgZ(0,"div",19),i.TgZ(1,"button",20),i.NdJ("click",function(){i.CHM(o);const a=i.oxw(4);return a.cancelado=!a.cancelado}),i._uU(2,"Cancelar"),i.qZA(),i.qZA()}}function K(t,n){if(1&t){const o=i.EpF();i.TgZ(0,"div",19),i.TgZ(1,"button",20),i.NdJ("click",function(){i.CHM(o);const a=i.oxw(4);return a.verResena=!a.verResena}),i._uU(2,"Ver rese\xf1a"),i.qZA(),i.qZA()}}function ii(t,n){if(1&t){const o=i.EpF();i.TgZ(0,"div",19),i.TgZ(1,"button",20),i.NdJ("click",function(){i.CHM(o);const a=i.oxw(4);return a.calificar=!a.calificar}),i._uU(2,"Calificar"),i.qZA(),i.qZA()}}function oi(t,n){if(1&t){const o=i.EpF();i.TgZ(0,"div",19),i.TgZ(1,"button",20),i.NdJ("click",function(){i.CHM(o);const a=i.oxw(4);return a.encuesta=!a.encuesta}),i._uU(2,"Encuesta"),i.qZA(),i.qZA()}}function ti(t,n){1&t&&(i.TgZ(0,"small",26),i._uU(1,"Para cancelar el turno es necesario una raz\xf3n"),i.qZA())}function ei(t,n){1&t&&(i.TgZ(0,"small",26),i._uU(1,"Debe tener entre 10 y 30 caracteres"),i.qZA())}function ni(t,n){if(1&t&&(i.TgZ(0,"button",27),i._uU(1,"Enviar"),i.qZA()),2&t){const o=i.oxw(5);i.Q6J("disabled",o.formComentario.invalid)}}function ai(t,n){if(1&t){const o=i.EpF();i.TgZ(0,"div",21),i.TgZ(1,"form",22),i.NdJ("ngSubmit",function(){i.CHM(o);const a=i.oxw().$implicit;return i.oxw(3).cancelarTurno(a)}),i.TgZ(2,"div",5),i.TgZ(3,"div",19),i._UZ(4,"input",23),i.YNc(5,ti,2,0,"small",24),i.YNc(6,ei,2,0,"small",24),i.qZA(),i.qZA(),i.YNc(7,ni,2,1,"button",25),i.qZA(),i.qZA()}if(2&t){const o=i.oxw(4);i.xp6(1),i.Q6J("formGroup",o.formComentario),i.xp6(4),i.Q6J("ngIf",null==o.formComentario.controls.comentario.errors?null:o.formComentario.controls.comentario.errors.required),i.xp6(1),i.Q6J("ngIf",(null==o.formComentario.controls.comentario.errors?null:o.formComentario.controls.comentario.errors.minlength)||(null==o.formComentario.controls.comentario.errors?null:o.formComentario.controls.comentario.errors.maxlength)),i.xp6(1),i.Q6J("ngIf",o.cancelado)}}function si(t,n){1&t&&(i.TgZ(0,"small",26),i._uU(1,"Para completar la encuesta es necesario dar un agregado para que mejoremos el servicio"),i.qZA())}function ri(t,n){1&t&&(i.TgZ(0,"small",26),i._uU(1,"Debe tener entre 10 y 40 caracteres"),i.qZA())}function ci(t,n){if(1&t){const o=i.EpF();i.TgZ(0,"div",21),i.TgZ(1,"form",22),i.NdJ("ngSubmit",function(){i.CHM(o);const a=i.oxw().$implicit;return i.oxw(3).cargarEncuesta(a)}),i.TgZ(2,"div",5),i.TgZ(3,"div",28),i.TgZ(4,"div",5),i.TgZ(5,"p"),i._uU(6,"\xbfC\xf3mo califica la atenci\xf3n del personal administrativo? : "),i.qZA(),i.TgZ(7,"div",29),i.TgZ(8,"button",30),i.NdJ("click",function(){return i.CHM(o),i.oxw(4).atencionAdministracion="Mala"}),i._uU(9,"Mala"),i.qZA(),i.TgZ(10,"button",30),i.NdJ("click",function(){return i.CHM(o),i.oxw(4).atencionAdministracion="Regular"}),i._uU(11,"Regular"),i.qZA(),i.TgZ(12,"button",31),i.NdJ("click",function(){return i.CHM(o),i.oxw(4).atencionAdministracion="Buena"}),i._uU(13,"Buena"),i.qZA(),i.qZA(),i._UZ(14,"br"),i.TgZ(15,"p",32),i._uU(16,"\xbfSe respet\xf3 el horario de la consulta? : "),i.qZA(),i.TgZ(17,"div",29),i.TgZ(18,"button",33),i.NdJ("click",function(){return i.CHM(o),i.oxw(4).respetoHorario="Si"}),i._uU(19,"Si"),i.qZA(),i.TgZ(20,"button",33),i.NdJ("click",function(){return i.CHM(o),i.oxw(4).respetoHorario="No"}),i._uU(21,"No"),i.qZA(),i.qZA(),i.qZA(),i.TgZ(22,"div",34),i.TgZ(23,"p"),i._uU(24,"Agregado: "),i.qZA(),i._UZ(25,"input",35),i.YNc(26,si,2,0,"small",24),i.YNc(27,ri,2,0,"small",24),i.qZA(),i.qZA(),i.qZA(),i.TgZ(28,"button",36),i._uU(29,"Enviar"),i.qZA(),i.qZA(),i.qZA()}if(2&t){const o=i.oxw(4);i.xp6(1),i.Q6J("formGroup",o.formEncuesta),i.xp6(25),i.Q6J("ngIf",(null==o.formEncuesta.controls.agregado.errors?null:o.formEncuesta.controls.agregado.errors.required)&&o.formEncuesta.controls.agregado.touched),i.xp6(1),i.Q6J("ngIf",(null==o.formEncuesta.controls.agregado.errors?null:o.formEncuesta.controls.agregado.errors.minlength)||(null==o.formEncuesta.controls.agregado.errors?null:o.formEncuesta.controls.agregado.errors.maxlength)),i.xp6(1),i.Q6J("disabled",o.formEncuesta.invalid)}}function di(t,n){if(1&t){const o=i.EpF();i.TgZ(0,"button",40),i.NdJ("click",function(){i.CHM(o);const a=i.oxw(2).$implicit;return i.oxw(3).cargarCalificacion(a)}),i._uU(1,"Cargar calificaci\xf3n"),i.qZA()}}function li(t,n){if(1&t){const o=i.EpF();i.TgZ(0,"div"),i.TgZ(1,"div",5),i.TgZ(2,"div",28),i.TgZ(3,"p"),i._uU(4),i.qZA(),i.TgZ(5,"div",29),i.TgZ(6,"button",37),i.NdJ("click",function(){return i.CHM(o),i.oxw(4).atencion="Mala"}),i._uU(7,"Mala"),i.qZA(),i.TgZ(8,"button",37),i.NdJ("click",function(){return i.CHM(o),i.oxw(4).atencion="Regular"}),i._uU(9,"Regular"),i.qZA(),i.TgZ(10,"button",38),i.NdJ("click",function(){return i.CHM(o),i.oxw(4).atencion="Buena"}),i._uU(11,"Buena"),i.qZA(),i.qZA(),i.YNc(12,di,2,0,"button",39),i.qZA(),i.qZA(),i.qZA()}if(2&t){const o=i.oxw().$implicit,e=i.oxw(3);i.xp6(4),i.AsE("\xbfC\xf3mo califica la atenci\xf3n del especialista ",o.especialista.nombre," ",o.especialista.apellido,"? : "),i.xp6(8),i.Q6J("ngIf",""!=e.atencion)}}const H=function(t,n,o,e,a){return{"card text-dark bg-secondary":t,"card text-dark bg-warning":n,"card text-dark bg-info":o,"card text-dark bg-danger":e,"card text-dark bg-success":a}};function _i(t,n){if(1&t&&(i.TgZ(0,"div"),i.TgZ(1,"div",10),i.TgZ(2,"div",11),i.TgZ(3,"div",12),i.TgZ(4,"b",13),i._uU(5),i.qZA(),i.qZA(),i.TgZ(6,"div",14),i.TgZ(7,"h5",15),i.TgZ(8,"b"),i._uU(9,"Estado:"),i.qZA(),i._uU(10),i.qZA(),i._UZ(11,"p",16),i.TgZ(12,"p"),i.TgZ(13,"b"),i._uU(14,"Especialista:"),i.qZA(),i._uU(15),i.qZA(),i.TgZ(16,"p"),i.TgZ(17,"b"),i._uU(18,"Especialidad:"),i.qZA(),i._uU(19),i.qZA(),i.YNc(20,W,7,6,"p",2),i.TgZ(21,"div",4),i.TgZ(22,"div",5),i.YNc(23,X,3,0,"div",17),i.YNc(24,K,3,0,"div",17),i.YNc(25,ii,3,0,"div",17),i.YNc(26,oi,3,0,"div",17),i.qZA(),i.YNc(27,ai,8,4,"div",18),i.YNc(28,ci,30,4,"div",18),i.YNc(29,li,13,3,"div",2),i.qZA(),i.qZA(),i.qZA(),i._UZ(30,"br"),i.qZA(),i.qZA()),2&t){const o=n.$implicit,e=i.oxw(3);i.xp6(2),i.Q6J("ngClass",i.qbA(15,H,"Pendiente"==o.estado,"Cancelado"==o.estado,"Aceptado"==o.estado,"Rechazado"==o.estado,"Realizado"==o.estado)),i.xp6(3),i.AsE("Fecha: ",o.fecha.dia," ",o.fecha.hora,""),i.xp6(5),i.hij(" ",o.estado," "),i.xp6(5),i.AsE(" ",o.especialista.nombre," ",o.especialista.apellido," "),i.xp6(4),i.hij(" ",o.especialidad.nombre," "),i.xp6(1),i.Q6J("ngIf",e.verResena),i.xp6(3),i.Q6J("ngIf","Realizado"!=o.estado&&"Cancelado"!=o.estado),i.xp6(1),i.Q6J("ngIf",null!=o.comentarioEspecialista||null!=o.comentarioPaciente||null!=o.comentarioAdministrador),i.xp6(1),i.Q6J("ngIf","Realizado"==o.estado&&null==o.atencion),i.xp6(1),i.Q6J("ngIf","Realizado"==o.estado&&null==o.encuesta),i.xp6(1),i.Q6J("ngIf",e.cancelado&&"pendiente"==o.estado),i.xp6(1),i.Q6J("ngIf",e.encuesta),i.xp6(1),i.Q6J("ngIf",e.calificar)}}function ui(t,n){if(1&t){const o=i.EpF();i.TgZ(0,"div",4),i.TgZ(1,"div",5),i.TgZ(2,"input",6),i.NdJ("ngModelChange",function(a){return i.CHM(o),i.oxw(2).datoABuscar=a})("ngModelChange",function(){return i.CHM(o),i.oxw(2).buscar()}),i.qZA(),i.qZA(),i.YNc(3,j,2,0,"h2",7),i.YNc(4,_i,31,21,"div",8),i._UZ(5,"br"),i.qZA()}if(2&t){const o=i.oxw(2);i.xp6(2),i.Q6J("ngModel",o.datoABuscar),i.xp6(1),i.Q6J("ngIf",0==o.todosLosTurnos.length),i.xp6(1),i.Q6J("ngForOf",o.todosLosTurnos)}}function pi(t,n){1&t&&(i.TgZ(0,"h2",9),i._uU(1,"No hay turnos"),i.qZA())}function mi(t,n){1&t&&(i.TgZ(0,"b"),i._uU(1,"Comentario Paciente:"),i.qZA())}function vi(t,n){1&t&&(i.TgZ(0,"b"),i._uU(1,"Comentario Administrador:"),i.qZA())}function hi(t,n){1&t&&(i.TgZ(0,"b"),i._uU(1,"Comentario Especialista:"),i.qZA())}function gi(t,n){if(1&t&&(i.TgZ(0,"p"),i.YNc(1,mi,2,0,"b",2),i._uU(2),i.YNc(3,vi,2,0,"b",2),i._uU(4),i.YNc(5,hi,2,0,"b",2),i._uU(6),i.qZA()),2&t){const o=i.oxw().$implicit;i.xp6(1),i.Q6J("ngIf",null!=o.comentarioPaciente),i.xp6(1),i.hij(" ",null==o?null:o.comentarioPaciente," "),i.xp6(1),i.Q6J("ngIf",null!=o.comentarioAdministrador),i.xp6(1),i.hij(" ",null==o?null:o.comentarioAdministrador," "),i.xp6(1),i.Q6J("ngIf",null!=o.comentarioEspecialista),i.xp6(1),i.hij(" ",null==o?null:o.comentarioEspecialista," ")}}function fi(t,n){1&t&&(i.TgZ(0,"b"),i._uU(1,"Comentario Consulta:"),i.qZA())}function Ti(t,n){1&t&&(i.TgZ(0,"b"),i._uU(1,"Diagn\xf3stico:"),i.qZA())}function Zi(t,n){if(1&t&&(i.TgZ(0,"p"),i.YNc(1,Ti,2,0,"b",2),i._uU(2),i.qZA()),2&t){const o=i.oxw(2).$implicit;i.xp6(1),i.Q6J("ngIf",null!=o.diagnostico&&"Realizado"==o.estado),i.xp6(1),i.hij(" ",null==o?null:o.diagnostico," ")}}function xi(t,n){1&t&&(i.TgZ(0,"b"),i._uU(1,"Altura:"),i.qZA())}function bi(t,n){if(1&t&&(i.TgZ(0,"p"),i.YNc(1,xi,2,0,"b",2),i._uU(2),i.qZA()),2&t){const o=i.oxw(2).$implicit;i.xp6(1),i.Q6J("ngIf",null!=o.historiaClinica&&"Realizado"==o.estado),i.xp6(1),i.hij(" ",null==o.historiaClinica?null:o.historiaClinica.altura," ")}}function Ai(t,n){1&t&&(i.TgZ(0,"b"),i._uU(1,"Peso:"),i.qZA())}function Ci(t,n){if(1&t&&(i.TgZ(0,"p"),i.YNc(1,Ai,2,0,"b",2),i._uU(2),i.qZA()),2&t){const o=i.oxw(2).$implicit;i.xp6(1),i.Q6J("ngIf",null!=o.historiaClinica&&"Realizado"==o.estado),i.xp6(1),i.hij(" ",null==o.historiaClinica?null:o.historiaClinica.peso," ")}}function qi(t,n){1&t&&(i.TgZ(0,"b"),i._uU(1,"Temperatura:"),i.qZA())}function Mi(t,n){if(1&t&&(i.TgZ(0,"p"),i.YNc(1,qi,2,0,"b",2),i._uU(2),i.qZA()),2&t){const o=i.oxw(2).$implicit;i.xp6(1),i.Q6J("ngIf",null!=o.historiaClinica&&"Realizado"==o.estado),i.xp6(1),i.hij(" ",null==o.historiaClinica?null:o.historiaClinica.temperatura," ")}}function Ui(t,n){1&t&&(i.TgZ(0,"b"),i._uU(1,"Presi\xf3n:"),i.qZA())}function Ni(t,n){if(1&t&&(i.TgZ(0,"p"),i.YNc(1,Ui,2,0,"b",2),i._uU(2),i.qZA()),2&t){const o=i.oxw(2).$implicit;i.xp6(1),i.Q6J("ngIf",null!=o.historiaClinica&&"Realizado"==o.estado),i.xp6(1),i.hij(" ",null==o.historiaClinica?null:o.historiaClinica.presion," ")}}function Ji(t,n){if(1&t&&(i.TgZ(0,"b"),i._uU(1),i.qZA()),2&t){const o=i.oxw(3).$implicit;i.xp6(1),i.hij("",null==o.historiaClinica||null==o.historiaClinica.datoDinamico1?null:o.historiaClinica.datoDinamico1.clave,":")}}function Ei(t,n){if(1&t&&(i.TgZ(0,"p"),i.YNc(1,Ji,2,1,"b",2),i._uU(2),i.qZA()),2&t){const o=i.oxw(2).$implicit;i.xp6(1),i.Q6J("ngIf",null!=o.historiaClinica&&"Realizado"==o.estado&&""!=o.historiaClinica.datoDinamico1),i.xp6(1),i.hij(" ",null==o.historiaClinica||null==o.historiaClinica.datoDinamico1?null:o.historiaClinica.datoDinamico1.valor," ")}}function Ii(t,n){if(1&t&&(i.TgZ(0,"b"),i._uU(1),i.qZA()),2&t){const o=i.oxw(3).$implicit;i.xp6(1),i.hij("",null==o.historiaClinica||null==o.historiaClinica.datoDinamico2?null:o.historiaClinica.datoDinamico2.clave,":")}}function Fi(t,n){if(1&t&&(i.TgZ(0,"p"),i.YNc(1,Ii,2,1,"b",2),i._uU(2),i.qZA()),2&t){const o=i.oxw(2).$implicit;i.xp6(1),i.Q6J("ngIf",null!=o.historiaClinica&&"Realizado"==o.estado&&""!=o.historiaClinica.datoDinamico2),i.xp6(1),i.hij(" ",null==o.historiaClinica||null==o.historiaClinica.datoDinamico2?null:o.historiaClinica.datoDinamico2.valor," ")}}function ki(t,n){if(1&t&&(i.TgZ(0,"b"),i._uU(1),i.qZA()),2&t){const o=i.oxw(3).$implicit;i.xp6(1),i.hij("",null==o.historiaClinica||null==o.historiaClinica.datoDinamico3?null:o.historiaClinica.datoDinamico3.clave,":")}}function wi(t,n){if(1&t&&(i.TgZ(0,"p"),i.YNc(1,ki,2,1,"b",2),i._uU(2),i.qZA()),2&t){const o=i.oxw(2).$implicit;i.xp6(1),i.Q6J("ngIf",null!=o.historiaClinica&&"Realizado"==o.estado&&""!=o.historiaClinica.datoDinamico3),i.xp6(1),i.hij(" ",null==o.historiaClinica||null==o.historiaClinica.datoDinamico3?null:o.historiaClinica.datoDinamico3.valor," ")}}function Si(t,n){if(1&t&&(i.TgZ(0,"div"),i.YNc(1,fi,2,0,"b",2),i._uU(2),i.YNc(3,Zi,3,2,"p",2),i.YNc(4,bi,3,2,"p",2),i.YNc(5,Ci,3,2,"p",2),i.YNc(6,Mi,3,2,"p",2),i.YNc(7,Ni,3,2,"p",2),i.YNc(8,Ei,3,2,"p",2),i.YNc(9,Fi,3,2,"p",2),i.YNc(10,wi,3,2,"p",2),i.qZA()),2&t){const o=i.oxw().$implicit,e=i.oxw(3);i.xp6(1),i.Q6J("ngIf",null!=o.comentarioConsulta&&"Realizado"==o.estado),i.xp6(1),i.hij(" ",null==o?null:o.comentarioConsulta," "),i.xp6(1),i.Q6J("ngIf",e.verResena),i.xp6(1),i.Q6J("ngIf",e.verResena),i.xp6(1),i.Q6J("ngIf",e.verResena),i.xp6(1),i.Q6J("ngIf",e.verResena),i.xp6(1),i.Q6J("ngIf",e.verResena),i.xp6(1),i.Q6J("ngIf",e.verResena),i.xp6(1),i.Q6J("ngIf",e.verResena),i.xp6(1),i.Q6J("ngIf",e.verResena)}}function Di(t,n){if(1&t){const o=i.EpF();i.TgZ(0,"div",19),i.TgZ(1,"button",20),i.NdJ("click",function(){i.CHM(o);const a=i.oxw(4);return a.cancelado=!a.cancelado}),i._uU(2,"Cancelar"),i.qZA(),i.qZA()}}function Yi(t,n){if(1&t){const o=i.EpF();i.TgZ(0,"div",19),i.TgZ(1,"button",20),i.NdJ("click",function(){i.CHM(o);const a=i.oxw(4);return a.rechazado=!a.rechazado}),i._uU(2,"Rechazar"),i.qZA(),i.qZA()}}function Qi(t,n){if(1&t){const o=i.EpF();i.TgZ(0,"div",19),i.TgZ(1,"button",41),i.NdJ("click",function(){i.CHM(o);const a=i.oxw(4);return a.verResena=!a.verResena}),i._uU(2,"Ver rese\xf1a"),i.qZA(),i.qZA()}}function yi(t,n){if(1&t){const o=i.EpF();i.TgZ(0,"div",19),i.TgZ(1,"button",41),i.NdJ("click",function(){i.CHM(o);const a=i.oxw().$implicit;return i.oxw(3).aceptarTurno(a)}),i._uU(2,"Aceptar"),i.qZA(),i.qZA()}}function zi(t,n){if(1&t){const o=i.EpF();i.TgZ(0,"div",19),i.TgZ(1,"button",20),i.NdJ("click",function(){i.CHM(o);const a=i.oxw(4);return a.finalizado=!a.finalizado}),i._uU(2,"Finalizar"),i.qZA(),i.qZA()}}function Bi(t,n){1&t&&(i.TgZ(0,"small",26),i._uU(1,"Para cancelar/rechazar el turno es necesario una raz\xf3n"),i.qZA())}function Pi(t,n){1&t&&(i.TgZ(0,"small",26),i._uU(1,"Debe tener entre 10 y 30 caracteres"),i.qZA())}function Hi(t,n){if(1&t&&(i.TgZ(0,"button",27),i._uU(1,"Enviar"),i.qZA()),2&t){const o=i.oxw(5);i.Q6J("disabled",o.formComentario.invalid)}}function Li(t,n){if(1&t){const o=i.EpF();i.TgZ(0,"div",21),i.TgZ(1,"form",22),i.NdJ("ngSubmit",function(){i.CHM(o);const a=i.oxw().$implicit;return i.oxw(3).cancelarTurno(a)}),i.TgZ(2,"div",5),i.TgZ(3,"div",19),i._UZ(4,"input",42),i.YNc(5,Bi,2,0,"small",24),i.YNc(6,Pi,2,0,"small",24),i.qZA(),i.qZA(),i.YNc(7,Hi,2,1,"button",25),i.qZA(),i.qZA()}if(2&t){const o=i.oxw(4);i.xp6(1),i.Q6J("formGroup",o.formComentario),i.xp6(4),i.Q6J("ngIf",null==o.formComentario.controls.comentario.errors?null:o.formComentario.controls.comentario.errors.required),i.xp6(1),i.Q6J("ngIf",(null==o.formComentario.controls.comentario.errors?null:o.formComentario.controls.comentario.errors.minlength)||(null==o.formComentario.controls.comentario.errors?null:o.formComentario.controls.comentario.errors.maxlength)),i.xp6(1),i.Q6J("ngIf",o.cancelado||o.rechazado)}}function Ri(t,n){1&t&&(i.TgZ(0,"small",26),i._uU(1,"La altura es requerida"),i.qZA())}function Oi(t,n){1&t&&(i.TgZ(0,"small",26),i._uU(1,"El peso es requerido"),i.qZA())}function ji(t,n){1&t&&(i.TgZ(0,"small",26),i._uU(1,"La temperatura es requerida"),i.qZA())}function $i(t,n){1&t&&(i.TgZ(0,"small",26),i._uU(1,"La presi\xf3n es requerida"),i.qZA())}function Gi(t,n){1&t&&(i.TgZ(0,"small",26),i._uU(1,"Para completar la finalizacion es necesario dar un comentario"),i.qZA())}function Vi(t,n){1&t&&(i.TgZ(0,"small",26),i._uU(1,"Debe tener entre 10 y 40 caracteres"),i.qZA())}function Wi(t,n){1&t&&(i.TgZ(0,"small",26),i._uU(1,"Para completar la finalizacion dar el diagn\xf3stico"),i.qZA())}function Xi(t,n){1&t&&(i.TgZ(0,"small",26),i._uU(1,"Debe tener entre 20 y 60 caracteres"),i.qZA())}function Ki(t,n){if(1&t&&(i.TgZ(0,"p"),i._uU(1),i.qZA()),2&t){const o=i.oxw(5);i.xp6(1),i.AsE("Dato: ",o.dato1.clave," Valor: ",o.dato1.valor," ")}}function io(t,n){if(1&t&&(i.TgZ(0,"p"),i._uU(1),i.qZA()),2&t){const o=i.oxw(5);i.xp6(1),i.AsE("Dato: ",o.dato2.clave," Valor: ",o.dato2.valor," ")}}function oo(t,n){if(1&t&&(i.TgZ(0,"p"),i._uU(1),i.qZA()),2&t){const o=i.oxw(5);i.xp6(1),i.AsE("Dato: ",o.dato3.clave," Valor: ",o.dato3.valor," ")}}function to(t,n){if(1&t&&(i.TgZ(0,"p"),i._uU(1),i.qZA()),2&t){const o=i.oxw(5);i.xp6(1),i.AsE("Dato: ",o.dato4.clave," Valor: ",o.dato4.valor," ")}}function eo(t,n){if(1&t&&(i.TgZ(0,"p"),i._uU(1),i.qZA()),2&t){const o=i.oxw(5);i.xp6(1),i.AsE("Dato: ",o.dato5.clave," Valor: ",o.dato5.valor," ")}}function no(t,n){if(1&t&&(i.TgZ(0,"p"),i._uU(1),i.qZA()),2&t){const o=i.oxw(5);i.xp6(1),i.AsE("Dato: ",o.dato6.clave," Valor: ",o.dato6.valor," ")}}function ao(t,n){if(1&t){const o=i.EpF();i.TgZ(0,"div",21),i.TgZ(1,"form",22),i.NdJ("ngSubmit",function(){i.CHM(o);const a=i.oxw().$implicit;return i.oxw(3).finalizarTurno(a)}),i.TgZ(2,"div",5),i.TgZ(3,"div",28),i.TgZ(4,"div",5),i.TgZ(5,"div",34),i.TgZ(6,"p"),i._uU(7,"Altura: "),i.qZA(),i._UZ(8,"input",43),i.YNc(9,Ri,2,0,"small",24),i.qZA(),i.TgZ(10,"div",34),i.TgZ(11,"p"),i._uU(12,"Peso: "),i.qZA(),i._UZ(13,"input",44),i.YNc(14,Oi,2,0,"small",24),i.qZA(),i.TgZ(15,"div",34),i.TgZ(16,"p"),i._uU(17,"Temperatura: "),i.qZA(),i._UZ(18,"input",45),i.YNc(19,ji,2,0,"small",24),i.qZA(),i.TgZ(20,"div",34),i.TgZ(21,"p"),i._uU(22,"Presi\xf3n: "),i.qZA(),i._UZ(23,"input",46),i.YNc(24,$i,2,0,"small",24),i.qZA(),i.TgZ(25,"div",47),i.TgZ(26,"p"),i._uU(27,"Comentario sobre la consulta: "),i.qZA(),i._UZ(28,"input",48),i.YNc(29,Gi,2,0,"small",24),i.YNc(30,Vi,2,0,"small",24),i.qZA(),i.TgZ(31,"div",49),i.TgZ(32,"p"),i._uU(33,"Diagn\xf3stico : "),i.qZA(),i._UZ(34,"input",50),i.YNc(35,Wi,2,0,"small",24),i.YNc(36,Xi,2,0,"small",24),i.qZA(),i._UZ(37,"br"),i.TgZ(38,"form",51),i.TgZ(39,"div",5),i.TgZ(40,"div",29),i.TgZ(41,"div",5),i.TgZ(42,"div",47),i.TgZ(43,"p"),i._uU(44,"Dato: "),i.qZA(),i._UZ(45,"input",52),i.qZA(),i.TgZ(46,"div",47),i.TgZ(47,"p"),i._uU(48,"Valor: "),i.qZA(),i._UZ(49,"input",53),i.qZA(),i.qZA(),i.TgZ(50,"div",5),i.TgZ(51,"div",47),i.TgZ(52,"p"),i._uU(53,"Dato: "),i.qZA(),i._UZ(54,"input",54),i.qZA(),i.TgZ(55,"div",47),i.TgZ(56,"p"),i._uU(57),i.qZA(),i.TgZ(58,"input",55),i.NdJ("change",function(){return i.CHM(o),i.oxw(4).getRangeValue()}),i.qZA(),i.qZA(),i.qZA(),i.TgZ(59,"div",5),i.TgZ(60,"div",47),i.TgZ(61,"p"),i._uU(62,"Dato: "),i.qZA(),i._UZ(63,"input",56),i.qZA(),i.TgZ(64,"div",47),i.TgZ(65,"p"),i._uU(66,"Valor numerico: "),i.qZA(),i._UZ(67,"input",57),i.qZA(),i.qZA(),i.TgZ(68,"div",5),i.TgZ(69,"div",47),i.TgZ(70,"p"),i._uU(71,"Dato: "),i.qZA(),i._UZ(72,"input",58),i.qZA(),i.TgZ(73,"div",47),i.TgZ(74,"p"),i._uU(75,"Switch: "),i.qZA(),i.TgZ(76,"label",59),i.TgZ(77,"input",60),i.NdJ("click",function(){return i.CHM(o),i.oxw(4).toggleButtonSiNo()}),i.qZA(),i.TgZ(78,"div",61),i._uU(79),i.qZA(),i.qZA(),i.qZA(),i.qZA(),i.YNc(80,Ki,2,2,"p",2),i.YNc(81,io,2,2,"p",2),i.YNc(82,oo,2,2,"p",2),i.YNc(83,to,2,2,"p",2),i.YNc(84,eo,2,2,"p",2),i.YNc(85,no,2,2,"p",2),i.qZA(),i.qZA(),i.TgZ(86,"button",62),i.NdJ("click",function(){return i.CHM(o),i.oxw(4).datosExtrasAgregar()}),i._uU(87,"Agregar Dato"),i.qZA(),i.qZA(),i.qZA(),i.qZA(),i.qZA(),i.TgZ(88,"button",63),i._uU(89,"Enviar"),i.qZA(),i.qZA(),i.qZA()}if(2&t){const o=i.oxw(4);i.xp6(1),i.Q6J("formGroup",o.formFinalizado),i.xp6(8),i.Q6J("ngIf",(null==o.formFinalizado.controls.altura.errors?null:o.formFinalizado.controls.altura.errors.required)&&o.formFinalizado.controls.altura.touched),i.xp6(5),i.Q6J("ngIf",(null==o.formFinalizado.controls.peso.errors?null:o.formFinalizado.controls.peso.errors.required)&&o.formFinalizado.controls.peso.touched),i.xp6(5),i.Q6J("ngIf",(null==o.formFinalizado.controls.temperatura.errors?null:o.formFinalizado.controls.temperatura.errors.required)&&o.formFinalizado.controls.temperatura.touched),i.xp6(5),i.Q6J("ngIf",(null==o.formFinalizado.controls.presion.errors?null:o.formFinalizado.controls.presion.errors.required)&&o.formFinalizado.controls.presion.touched),i.xp6(5),i.Q6J("ngIf",(null==o.formFinalizado.controls.comentario.errors?null:o.formFinalizado.controls.comentario.errors.required)&&o.formFinalizado.controls.comentario.touched),i.xp6(1),i.Q6J("ngIf",(null==o.formFinalizado.controls.comentario.errors?null:o.formFinalizado.controls.comentario.errors.minlength)||(null==o.formFinalizado.controls.comentario.errors?null:o.formFinalizado.controls.comentario.errors.maxlength)),i.xp6(5),i.Q6J("ngIf",(null==o.formFinalizado.controls.diagnostico.errors?null:o.formFinalizado.controls.diagnostico.errors.required)&&o.formFinalizado.controls.diagnostico.touched),i.xp6(1),i.Q6J("ngIf",(null==o.formFinalizado.controls.diagnostico.errors?null:o.formFinalizado.controls.diagnostico.errors.minlength)||(null==o.formFinalizado.controls.diagnostico.errors?null:o.formFinalizado.controls.diagnostico.errors.maxlength)),i.xp6(2),i.Q6J("formGroup",o.formDatosDinamicos),i.xp6(19),i.hij("Rango: ",o.rangeValue,""),i.xp6(22),i.Oqu(o.sino),i.xp6(1),i.Q6J("ngIf",""!=o.dato1),i.xp6(1),i.Q6J("ngIf",""!=o.dato2),i.xp6(1),i.Q6J("ngIf",""!=o.dato3),i.xp6(1),i.Q6J("ngIf",""!=o.dato4),i.xp6(1),i.Q6J("ngIf",""!=o.dato5),i.xp6(1),i.Q6J("ngIf",""!=o.dato6),i.xp6(1),i.Q6J("disabled",o.formFinalizado.invalid),i.xp6(2),i.Q6J("disabled",o.formFinalizado.invalid)}}function so(t,n){if(1&t&&(i.TgZ(0,"div"),i.TgZ(1,"div",10),i.TgZ(2,"div",11),i.TgZ(3,"div",12),i.TgZ(4,"b",13),i._uU(5),i.qZA(),i.qZA(),i.TgZ(6,"div",14),i.TgZ(7,"h5",15),i.TgZ(8,"b"),i._uU(9,"Estado:"),i.qZA(),i._uU(10),i.qZA(),i._UZ(11,"p",16),i.TgZ(12,"p"),i.TgZ(13,"b"),i._uU(14,"Paciente:"),i.qZA(),i._uU(15),i.qZA(),i.TgZ(16,"p"),i.TgZ(17,"b"),i._uU(18,"Especialidad:"),i.qZA(),i._uU(19),i.qZA(),i.YNc(20,gi,7,6,"p",2),i.YNc(21,Si,11,10,"div",2),i.TgZ(22,"div",4),i.TgZ(23,"div",5),i.YNc(24,Di,3,0,"div",17),i.YNc(25,Yi,3,0,"div",17),i.YNc(26,Qi,3,0,"div",17),i.YNc(27,yi,3,0,"div",17),i.YNc(28,zi,3,0,"div",17),i.qZA(),i.YNc(29,Li,8,4,"div",18),i.YNc(30,ao,90,20,"div",18),i.qZA(),i.qZA(),i.qZA(),i._UZ(31,"br"),i.qZA(),i.qZA()),2&t){const o=n.$implicit,e=i.oxw(3);i.xp6(2),i.Q6J("ngClass",i.qbA(16,H,"Pendiente"==o.estado,"Cancelado"==o.estado,"Aceptado"==o.estado,"Rechazado"==o.estado,"Realizado"==o.estado)),i.xp6(3),i.AsE("Fecha: ",o.fecha.dia," ",o.fecha.hora,""),i.xp6(5),i.hij(" ",o.estado," "),i.xp6(5),i.AsE(" ",o.paciente.nombre," ",o.paciente.apellido," "),i.xp6(4),i.hij(" ",o.especialidad.nombre," "),i.xp6(1),i.Q6J("ngIf",e.verResena&&("Cancelado"==o.estado||"Rechazado"==o.estado)),i.xp6(1),i.Q6J("ngIf",e.verResena&&"Realizado"==o.estado),i.xp6(3),i.Q6J("ngIf","Pendiente"==o.estado),i.xp6(1),i.Q6J("ngIf","Pendiente"==o.estado),i.xp6(1),i.Q6J("ngIf",null!=o.comentarioPaciente||null!=o.comentarioAdministrador||null!=o.comentarioEspecialista||"Realizado"==o.estado),i.xp6(1),i.Q6J("ngIf","Pendiente"==o.estado),i.xp6(1),i.Q6J("ngIf","Aceptado"==o.estado),i.xp6(1),i.Q6J("ngIf",(e.cancelado||e.rechazado)&&"Pendiente"==o.estado),i.xp6(1),i.Q6J("ngIf",e.finalizado&&"Aceptado"==o.estado)}}function ro(t,n){if(1&t){const o=i.EpF();i.TgZ(0,"div",4),i.TgZ(1,"div",5),i.TgZ(2,"input",6),i.NdJ("ngModelChange",function(a){return i.CHM(o),i.oxw(2).datoABuscar=a})("ngModelChange",function(){return i.CHM(o),i.oxw(2).buscar()}),i.qZA(),i.qZA(),i.YNc(3,pi,2,0,"h2",7),i.YNc(4,so,32,22,"div",8),i._UZ(5,"br"),i.qZA()}if(2&t){const o=i.oxw(2);i.xp6(2),i.Q6J("ngModel",o.datoABuscar),i.xp6(1),i.Q6J("ngIf",0==o.todosLosTurnos.length),i.xp6(1),i.Q6J("ngForOf",o.todosLosTurnos)}}function co(t,n){if(1&t&&(i.TgZ(0,"div"),i.YNc(1,ui,6,3,"div",3),i.YNc(2,ro,6,3,"div",3),i.qZA()),2&t){const o=i.oxw();i.xp6(1),i.Q6J("ngIf","paciente"==o.as.logeado.perfil),i.xp6(1),i.Q6J("ngIf","especialista"==o.as.logeado.perfil)}}let lo=(()=>{class t{constructor(o,e,a,s,d,u,p,v){this.as=o,this.turnoService=e,this.fb=a,this.fb2=s,this.fb3=d,this.ts=u,this.fb4=p,this.fs=v,this.turnos="",this.pacientes="",this.todosLosTurnos=[],this.turnosFiltrados="",this.turnosFiltradosEspecialista="",this.especialidadBuscar="",this.pacienteBuscar="",this.especialistaBuscar="",this.cancelado=!1,this.verResena=!1,this.encuesta=!1,this.calificar=!1,this.atencion="",this.finalizado=!1,this.rechazado=!1,this.atencionAdministracion="",this.respetoHorario="",this.pacienteAModificar="",this.datoABuscar="",this.turnosFiltradosBusqueda=[],this.sino="Si",this.rangeValue="50",this.dato1="",this.dato2="",this.dato3="",this.dato4="",this.dato5="",this.dato6="",this.formComentario=this.fb.group({comentario:["",[r.kI.required,r.kI.maxLength(40),r.kI.minLength(10)]]}),this.formEncuesta=this.fb2.group({agregado:["",[r.kI.required,r.kI.maxLength(40),r.kI.minLength(10)]]}),this.formFinalizado=this.fb3.group({comentario:["",[r.kI.required,r.kI.maxLength(40),r.kI.minLength(10)]],diagnostico:["",[r.kI.required,r.kI.maxLength(60),r.kI.minLength(15)]],altura:["",[r.kI.required]],peso:["",[r.kI.required]],temperatura:["",[r.kI.required]],presion:["",[r.kI.required]]}),this.formDatosDinamicos=this.fb4.group({dato:[""],valor:[""],datoRango:[""],valorRango:[""],datoNumerico:[""],valorNumerico:[""],datoSwitch:[""],valorSwitch:[""]}),this.turnoService.traerTurnos().subscribe(_=>{this.turnos=_,"paciente"==this.as.logeado.perfil?(this.todosLosTurnos=this.turnos.filter(m=>m.paciente.dni==this.as.logeado.dni),this.turnosFiltrados=this.todosLosTurnos,this.turnosFiltradosBusqueda=this.todosLosTurnos):"especialista"==this.as.logeado.perfil&&(this.todosLosTurnos=this.turnos.filter(m=>m.especialista.dni==this.as.logeado.dni),this.turnosFiltradosEspecialista=this.todosLosTurnos,this.turnosFiltradosBusqueda=this.todosLosTurnos)}),this.fs.traerPacientes().subscribe(_=>{this.pacientes=_})}ngOnInit(){}toggleButtonSiNo(){var o;this.sino=(null===(o=this.formDatosDinamicos.get("valorSwitch"))||void 0===o?void 0:o.value)?"Si":"No"}getRangeValue(){var o;this.rangeValue=null===(o=this.formDatosDinamicos.get("valorRango"))||void 0===o?void 0:o.value}buscar(){var o,e,a,s,d,u,p,v,_,m,g,f,Z,x,b,A,l,E,I,F,k,w,S,D,Y,Q,y,z;if(this.todosLosTurnos=[],""==this.datoABuscar)this.todosLosTurnos="paciente"==this.as.logeado.perfil?this.turnosFiltrados:this.turnosFiltradosEspecialista;else for(let c of this.turnosFiltradosBusqueda)(c.especialista.nombre.includes(this.datoABuscar)||c.especialista.apellido.includes(this.datoABuscar)||c.especialidad.nombre.includes(this.datoABuscar)||c.paciente.nombre.includes(this.datoABuscar)||c.paciente.apellido.includes(this.datoABuscar)||c.fecha.dia.includes(this.datoABuscar)||c.fecha.hora.includes(this.datoABuscar)||c.estado.includes(this.datoABuscar)||null!=c.historiaClinica&&((null===(o=c.historiaClinica)||void 0===o?void 0:o.altura.includes(this.datoABuscar))||(null===(e=c.historiaClinica)||void 0===e?void 0:e.peso.includes(this.datoABuscar))||(null===(a=c.historiaClinica)||void 0===a?void 0:a.temperatura.includes(this.datoABuscar))||(null===(s=c.historiaClinica)||void 0===s?void 0:s.presion.includes(this.datoABuscar))||""!=c.historiaClinica.datoDinamico1&&((null===(u=null===(d=c.historiaClinica)||void 0===d?void 0:d.datoDinamico1)||void 0===u?void 0:u.clave.includes(this.datoABuscar))||(null===(v=null===(p=c.historiaClinica)||void 0===p?void 0:p.datoDinamico1)||void 0===v?void 0:v.valor.includes(this.datoABuscar)))||""!=c.historiaClinica.datoDinamico2&&((null===(m=null===(_=c.historiaClinica)||void 0===_?void 0:_.datoDinamico2)||void 0===m?void 0:m.clave.includes(this.datoABuscar))||(null===(f=null===(g=c.historiaClinica)||void 0===g?void 0:g.datoDinamico2)||void 0===f?void 0:f.valor.includes(this.datoABuscar)))||""!=c.historiaClinica.datoDinamico3&&((null===(x=null===(Z=c.historiaClinica)||void 0===Z?void 0:Z.datoDinamico3)||void 0===x?void 0:x.clave.includes(this.datoABuscar))||(null===(A=null===(b=c.historiaClinica)||void 0===b?void 0:b.datoDinamico3)||void 0===A?void 0:A.valor.includes(this.datoABuscar)))||""!=c.historiaClinica.datoDinamico4&&((null===(E=null===(l=c.historiaClinica)||void 0===l?void 0:l.datoDinamico4)||void 0===E?void 0:E.clave.includes(this.datoABuscar))||(null===(F=null===(I=c.historiaClinica)||void 0===I?void 0:I.datoDinamico4)||void 0===F?void 0:F.valor.includes(this.datoABuscar)))||""!=c.historiaClinica.datoDinamico5&&((null===(w=null===(k=c.historiaClinica)||void 0===k?void 0:k.datoDinamico5)||void 0===w?void 0:w.clave.includes(this.datoABuscar))||(null===(D=null===(S=c.historiaClinica)||void 0===S?void 0:S.datoDinamico5)||void 0===D?void 0:D.valor.includes(this.datoABuscar)))||""!=c.historiaClinica.datoDinamico6&&((null===(Q=null===(Y=c.historiaClinica)||void 0===Y?void 0:Y.datoDinamico6)||void 0===Q?void 0:Q.clave.includes(this.datoABuscar))||(null===(z=null===(y=c.historiaClinica)||void 0===y?void 0:y.datoDinamico6)||void 0===z?void 0:z.valor.includes(this.datoABuscar)))))&&this.todosLosTurnos.push(c)}modificarTurnoBD(o,e){return this.turnoService.modificarTurno(o,e)}modificarPacienteBD(o,e){return this.fs.modificarPaciente(o,e)}cancelarTurno(o){var e,a,s;"paciente"==this.as.logeado.perfil?(o.estado="Cancelado",o.comentarioPaciente=null===(e=this.formComentario.get("comentario"))||void 0===e?void 0:e.value):"especialista"==this.as.logeado.perfil&&(this.cancelado?(o.estado="Cancelado",o.comentarioEspecialista=null===(a=this.formComentario.get("comentario"))||void 0===a?void 0:a.value):this.rechazado&&(o.estado="Rechazado",o.comentarioEspecialista=null===(s=this.formComentario.get("comentario"))||void 0===s?void 0:s.value)),this.modificarTurnoBD(Object.assign({},o),o.id).then(d=>{var u;this.ts.success("Se ha cancelado el turno","Cancelado"),this.cancelado=!1,this.rechazado=!1,null===(u=this.formComentario.get("comentario"))||void 0===u||u.setValue("")}).catch(d=>{setTimeout(()=>{this.as.loading=!0,this.ts.error("No se cancel\xf3 el turno","Error al cancelar")},1e3),this.as.loading=!1})}cargarEncuesta(o){var e;let a={atencionAdministracion:this.atencionAdministracion,respetoHorarioConsulta:this.respetoHorario,agregado:null===(e=this.formEncuesta.get("agregado"))||void 0===e?void 0:e.value};o.encuesta=a,this.modificarTurnoBD(Object.assign({},o),o.id).then(s=>{var d;this.ts.success("Se ha cargado la encuesta","Encuesta"),this.encuesta=!1,null===(d=this.formEncuesta.get("agregado"))||void 0===d||d.setValue(""),this.atencionAdministracion="",this.respetoHorario=""}).catch(s=>{setTimeout(()=>{this.as.loading=!0,this.ts.error("No se cargo la encuesta","Error con la encuesta")},1e3),this.as.loading=!1})}cargarCalificacion(o){o.atencion=this.atencion,this.modificarTurnoBD(Object.assign({},o),o.id).then(e=>{this.ts.success("Se ha cargado la calificaci\xf3n","Calificaci\xf3n"),this.calificar=!1,this.atencion=""}).catch(e=>{setTimeout(()=>{this.as.loading=!0,this.ts.error("No se cargo la calificaci\xf3n","Error con la calificaci\xf3n")},1e3),this.as.loading=!1})}finalizarTurno(o){var e,a,s,d,u,p;for(let m of this.pacientes)if(m.dni==o.paciente.dni){this.pacienteAModificar=m;break}let v={fecha:o.fecha,especialidad:o.especialidad,especialista:this.as.logeado,altura:null===(e=this.formFinalizado.get("altura"))||void 0===e?void 0:e.value.toString(),peso:null===(a=this.formFinalizado.get("peso"))||void 0===a?void 0:a.value.toString(),temperatura:null===(s=this.formFinalizado.get("temperatura"))||void 0===s?void 0:s.value.toString(),presion:null===(d=this.formFinalizado.get("presion"))||void 0===d?void 0:d.value.toString(),datoDinamico1:this.dato1,datoDinamico2:this.dato2,datoDinamico3:this.dato3,datoDinamico4:this.dato4,datoDinamico5:this.dato5,datoDinamico6:this.dato6};this.cargarHistoriaClinica(this.pacienteAModificar,v);for(let m of this.pacientes)if(m.dni==o.paciente.dni){this.pacienteAModificar=m;break}let _={paciente:this.pacienteAModificar,especialista:this.as.logeado,especialidad:o.especialidad,fecha:o.fecha,estado:"Realizado",comentarioEspecialista:null===(u=this.formFinalizado.get("comentario"))||void 0===u?void 0:u.value,diagnostico:null===(p=this.formFinalizado.get("diagnostico"))||void 0===p?void 0:p.value,historiaClinica:v};this.modificarTurnoBD(Object.assign({},_),o.id).then(m=>{this.ts.success("Se ha finalizado el turno","Finalizado"),this.finalizado=!1,this.formDatosDinamicos.reset(),this.formFinalizado.reset(),this.formComentario.reset(),this.dato1="",this.dato2="",this.dato3="",this.dato4="",this.dato5="",this.dato6=""}).catch(m=>{setTimeout(()=>{this.as.loading=!0,this.ts.error("No se realizo el turno","Error con la realizaci\xf3n")},1e3),this.as.loading=!1})}cargarHistoriaClinica(o,e){o.historiasClinicas.push(e),this.modificarPacienteBD(Object.assign({},o),o.id).then(a=>{this.ts.success("Se ha cargado la historia cl\xednica","Historia Cl\xednica")}).catch(a=>{setTimeout(()=>{this.as.loading=!0,this.ts.error("No se ha podido cargar la historia cl\xednica","Error con la historia cl\xednica")},1e3),this.as.loading=!1})}datosExtrasAgregar(){var o,e,a,s,d,u,p,v;let _=null===(o=this.formDatosDinamicos.get("dato"))||void 0===o?void 0:o.value,m=null===(e=this.formDatosDinamicos.get("valor"))||void 0===e?void 0:e.value,g=null===(a=this.formDatosDinamicos.get("datoRango"))||void 0===a?void 0:a.value,f=null===(s=this.formDatosDinamicos.get("valorRango"))||void 0===s?void 0:s.value,Z=null===(d=this.formDatosDinamicos.get("datoNumerico"))||void 0===d?void 0:d.value,x=null===(u=this.formDatosDinamicos.get("valorNumerico"))||void 0===u?void 0:u.value,b=null===(p=this.formDatosDinamicos.get("datoSwitch"))||void 0===p?void 0:p.value,A=null===(v=this.formDatosDinamicos.get("valorSwitch"))||void 0===v?void 0:v.value;console.log(g),console.log(f),""==this.dato1?this.dato1={clave:_,valor:m}:""==this.dato2?this.dato2={clave:_,valor:m}:""==this.dato3?this.dato3={clave:_,valor:m}:""==this.dato4?this.dato4={clave:g,valor:f}:""==this.dato5?this.dato5={clave:Z,valor:x}:""==this.dato6&&(this.dato6={clave:b,valor:A})}aceptarTurno(o){this.rechazado=!1,this.cancelado=!1,o.estado="Aceptado",this.modificarTurnoBD(Object.assign({},o),o.id).then(e=>{this.ts.success("Se ha aceptado el turno","Aceptado")}).catch(e=>{setTimeout(()=>{this.as.loading=!0,this.ts.error("No se acept\xf3 el turno","Error al aceptar el turno")},1e3),this.as.loading=!1})}}return t.\u0275fac=function(o){return new(o||t)(i.Y36(q.e),i.Y36(U.D),i.Y36(r.qu),i.Y36(r.qu),i.Y36(r.qu),i.Y36(N._W),i.Y36(r.qu),i.Y36(P.C))},t.\u0275cmp=i.Xpm({type:t,selectors:[["app-mis-turnos"]],decls:6,vars:1,consts:[[1,"container","bg-dark","turnos","p-3",2,"border-radius","2px"],[1,"text-light"],[4,"ngIf"],["class","container",4,"ngIf"],[1,"container"],[1,"row"],["type","text","placeholder","Busqueda",1,"form-control","col-12",3,"ngModel","ngModelChange"],["class","mt-3 text-light",4,"ngIf"],[4,"ngFor","ngForOf"],[1,"mt-3","text-light"],[1,"card-body",2,"border-radius","2px"],[3,"ngClass"],[1,"card-header"],[1,"fs-5"],[1,"card-body"],[1,"card-title"],[1,"card-text"],["class","col",4,"ngIf"],["class","mt-2 mb-2",4,"ngIf"],[1,"col"],[1,"btn","btn-sm","btn-danger",3,"click"],[1,"mt-2","mb-2"],[3,"formGroup","ngSubmit"],["type","text","placeholder","Razon de la cancelaci\xf3n","formControlName","comentario","required","",1,"form-control"],["class","invalid",4,"ngIf"],["type","submit","class","btn btn-outline-dark btn-block mb-3 mt-2",3,"disabled",4,"ngIf"],[1,"invalid"],["type","submit",1,"btn","btn-outline-dark","btn-block","mb-3","mt-2",3,"disabled"],[1,"col-5"],[1,"col-9"],["type","button",1,"btn","btn-dark","me-2",3,"click"],["type","button",1,"btn","btn-dark",3,"click"],[1,"mt-2"],["type","button",1,"btn","btn-dark","me-2","mb-2",3,"click"],[1,"col-6"],["type","text","placeholder","Ingrese una sugerencia","formControlName","agregado","required","",1,"form-control"],["type","submit",1,"btn","btn-outline-dark","mb-3","mt-2",3,"disabled"],[1,"btn","btn-dark","me-2",3,"click"],[1,"btn","btn-dark",3,"click"],["class","btn btn-outline-dark mt-2",3,"click",4,"ngIf"],[1,"btn","btn-outline-dark","mt-2",3,"click"],[1,"btn","btn-sm","btn-dark",3,"click"],["type","text","placeholder","Indique aqu\xed la razon","formControlName","comentario","required","",1,"form-control"],["type","number","placeholder","Ingrese la altura","formControlName","altura","required","",1,"form-control"],["type","number","placeholder","Ingrese el peso","formControlName","peso","required","",1,"form-control"],["type","number","placeholder","Ingrese la temperatura","formControlName","temperatura","required","",1,"form-control"],["type","number","placeholder","Ingrese la presion","formControlName","presion","required","",1,"form-control"],[1,"col-6","mt-2"],["type","text","placeholder","Ingrese un comentario","formControlName","comentario","required","",1,"form-control"],[1,"col-9","mt-2"],["type","text","placeholder","Ingrese el diagn\xf3stico","formControlName","diagnostico","required","",1,"form-control"],[3,"formGroup"],["type","text","placeholder","Ingrese un dato","formControlName","dato","required","",1,"form-control"],["type","text","placeholder","Ingrese su valor","formControlName","valor","required","",1,"form-control"],["type","text","placeholder","Ingrese un dato","formControlName","datoRango","required","",1,"form-control"],["type","range","placeholder","Ingrese su valor","formControlName","valorRango","min","0","max","100","required","",1,"form-range",3,"change"],["type","text","placeholder","Ingrese un dato","formControlName","datoNumerico","required","",1,"form-control"],["type","number","placeholder","Ingrese su valor","formControlName","valorNumerico","required","",1,"form-control"],["type","text","placeholder","Ingrese un dato","formControlName","datoSwitch","required","",1,"form-control"],[1,"switchBtn"],["type","checkbox","placeholder","Ingrese su valor","formControlName","valorSwitch","required","",1,"form-control",3,"click"],[1,"slide","round"],[1,"btn","btn-dark","mb-3","mt-2",3,"disabled","click"],["type","submit",1,"btn","btn-dark","mb-3","mt-2",3,"disabled"]],template:function(o,e){1&o&&(i._UZ(0,"app-navbar"),i._UZ(1,"br"),i.TgZ(2,"div",0),i.TgZ(3,"h3",1),i._uU(4,"Turnos"),i.qZA(),i.YNc(5,co,3,2,"div",2),i.qZA()),2&o&&(i.xp6(5),i.Q6J("ngIf",!0))},directives:[J.S,T.O5,r.Fj,r.JJ,r.On,T.sg,T.mk,r._Y,r.JL,r.sg,r.u,r.Q7,r.wV,r.eT,r.Wl,r.Zs],styles:['.switchBtn[_ngcontent-%COMP%]{position:relative;display:inline-block;width:110px;height:34px}.switchBtn[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{display:none}.slide[_ngcontent-%COMP%]{position:absolute;cursor:pointer;top:0;left:0;right:0;bottom:0;background-color:#ccc;transition:.4s;padding:8px;color:#fff}.slide[_ngcontent-%COMP%]:before{position:absolute;content:"";height:26px;width:26px;left:78px;bottom:4px;background-color:#fff;transition:.4s}input[_ngcontent-%COMP%]:checked + .slide[_ngcontent-%COMP%]{background-color:#8ce196;padding-left:40px}input[_ngcontent-%COMP%]:focus + .slide[_ngcontent-%COMP%]{box-shadow:0 0 1px #01aeed}input[_ngcontent-%COMP%]:checked + .slide[_ngcontent-%COMP%]:before{transform:translate(26px);left:-20px}.slide.round[_ngcontent-%COMP%]{border-radius:34px}.slide.round[_ngcontent-%COMP%]:before{border-radius:50%}']}),t})();var _o=h(4488),uo=h(8078),po=h(4220),mo=h(7729),vo=h(6133);function ho(t,n){1&t&&(i.TgZ(0,"div"),i._UZ(1,"app-spinner"),i.qZA())}function go(t,n){if(1&t&&(i.TgZ(0,"div"),i.YNc(1,ho,2,0,"div",0),i.qZA()),2&t){const o=i.oxw();i.xp6(1),i.Q6J("ngIf",o.as.loading)}}function fo(t,n){if(1&t){const o=i.EpF();i.TgZ(0,"div",16),i.TgZ(1,"div",17),i.NdJ("click",function(){const s=i.CHM(o).$implicit;return i.oxw(3).asignarPaciente(s)}),i.TgZ(2,"div",18),i.TgZ(3,"div",19),i._UZ(4,"img",20),i._UZ(5,"img",21),i.qZA(),i.qZA(),i.TgZ(6,"h6",22),i._uU(7),i.qZA(),i.qZA(),i.qZA()}if(2&t){const o=n.$implicit;i.xp6(4),i.s9C("src",o.imagenes[0],i.LSH),i.xp6(1),i.s9C("src",o.imagenes[1],i.LSH),i.xp6(2),i.AsE("",o.nombre," ",o.apellido,"")}}function To(t,n){if(1&t&&(i.TgZ(0,"div",12),i.TgZ(1,"div",13),i.TgZ(2,"div",14),i.YNc(3,fo,8,4,"div",15),i.qZA(),i.qZA(),i.qZA()),2&t){const o=i.oxw(2);i.xp6(3),i.Q6J("ngForOf",o.pacientes)}}function Zo(t,n){if(1&t){const o=i.EpF();i.TgZ(0,"div",6),i.TgZ(1,"div",7),i.NdJ("click",function(){return i.CHM(o),i.oxw().cargarPacientes()}),i.TgZ(2,"div",8),i._UZ(3,"img",9),i.qZA(),i.TgZ(4,"div",10),i.TgZ(5,"h6",11),i._uU(6,"Paciente"),i.qZA(),i.qZA(),i.qZA(),i.YNc(7,To,4,1,"div",3),i.qZA()}if(2&t){const o=i.oxw();i.xp6(7),i.Q6J("ngIf",1==o.tablaPacientes)}}function xo(t,n){if(1&t&&(i.TgZ(0,"div",12),i.TgZ(1,"div",13),i.TgZ(2,"div",14),i.TgZ(3,"div",16),i.TgZ(4,"div",10),i.TgZ(5,"div",18),i.TgZ(6,"div",19),i._UZ(7,"img",20),i._UZ(8,"img",21),i.qZA(),i.qZA(),i.TgZ(9,"h6",22),i._uU(10),i.qZA(),i.qZA(),i.qZA(),i.qZA(),i.qZA(),i.qZA()),2&t){const o=i.oxw();i.xp6(7),i.s9C("src",o.pacienteActual.imagenes[0],i.LSH),i.xp6(1),i.s9C("src",o.pacienteActual.imagenes[1],i.LSH),i.xp6(2),i.AsE("",o.pacienteActual.nombre," ",o.pacienteActual.apellido,"")}}function bo(t,n){if(1&t){const o=i.EpF();i.TgZ(0,"div",6),i.TgZ(1,"div",23),i.NdJ("click",function(){return i.CHM(o),i.oxw().cargarEspecialistas()}),i.TgZ(2,"div",8),i._UZ(3,"img",24),i.qZA(),i.TgZ(4,"div",10),i.TgZ(5,"h6",25),i._uU(6,"Especialista"),i.qZA(),i.qZA(),i.qZA(),i.qZA()}}function Ao(t,n){if(1&t){const o=i.EpF();i.TgZ(0,"div",6),i.TgZ(1,"div",23),i.NdJ("click",function(){return i.CHM(o),i.oxw().cargarEspecialistas()}),i.TgZ(2,"div",8),i._UZ(3,"img",24),i.qZA(),i.TgZ(4,"div",10),i.TgZ(5,"h6",25),i._uU(6,"Especialista"),i.qZA(),i.qZA(),i.qZA(),i.qZA()}}function Co(t,n){if(1&t){const o=i.EpF();i.TgZ(0,"div",6),i.TgZ(1,"div",26),i.TgZ(2,"button",27),i.NdJ("click",function(){return i.CHM(o),i.oxw().cargarEspecialistas()}),i._uU(3,"Volver a Especialistas"),i.qZA(),i.qZA(),i.qZA()}}function qo(t,n){if(1&t){const o=i.EpF();i.TgZ(0,"div",30),i.TgZ(1,"div",17),i.NdJ("click",function(){const s=i.CHM(o).$implicit;return i.oxw(2).seleccionarEspecialista(s)}),i._UZ(2,"img",31),i.TgZ(3,"h6",22),i._uU(4),i.qZA(),i.qZA(),i.qZA()}if(2&t){const o=n.$implicit;i.xp6(2),i.s9C("src",o.imagen,i.LSH),i.xp6(2),i.AsE("",o.nombre," ",o.apellido,"")}}function Mo(t,n){if(1&t&&(i.TgZ(0,"div",28),i.TgZ(1,"div",12),i.TgZ(2,"div",13),i.TgZ(3,"div",14),i.YNc(4,qo,5,3,"div",29),i.qZA(),i.qZA(),i.qZA(),i.qZA()),2&t){const o=i.oxw();i.xp6(4),i.Q6J("ngForOf",o.especialistas)}}function Uo(t,n){if(1&t){const o=i.EpF();i.TgZ(0,"div",33),i.TgZ(1,"div",17),i.NdJ("click",function(){const s=i.CHM(o).$implicit;return i.oxw(2).seleccionarEspecialidad(s)}),i._UZ(2,"img",31),i.TgZ(3,"h6",22),i._uU(4),i.qZA(),i.qZA(),i.qZA()}if(2&t){const o=n.$implicit;i.xp6(2),i.s9C("src",o.imagen,i.LSH),i.xp6(2),i.Oqu(o.nombre)}}function No(t,n){if(1&t&&(i.TgZ(0,"div",28),i.TgZ(1,"div",12),i.TgZ(2,"div",13),i.TgZ(3,"div",14),i.YNc(4,Uo,5,2,"div",32),i.qZA(),i.qZA(),i.qZA(),i.qZA()),2&t){const o=i.oxw();i.xp6(4),i.Q6J("ngForOf",o.especialidadesEspecialista)}}function Jo(t,n){if(1&t&&(i.TgZ(0,"div",34),i.TgZ(1,"div",12),i.TgZ(2,"div",13),i.TgZ(3,"div",14),i.TgZ(4,"div",35),i.TgZ(5,"div",10),i._UZ(6,"img",31),i.TgZ(7,"h6",22),i._uU(8),i.qZA(),i.qZA(),i.qZA(),i.qZA(),i.qZA(),i.qZA(),i.qZA()),2&t){const o=i.oxw();i.xp6(6),i.s9C("src",o.especialidadSeleccionada.imagen,i.LSH),i.xp6(2),i.Oqu(o.especialidadSeleccionada.nombre)}}function Eo(t,n){if(1&t){const o=i.EpF();i.TgZ(0,"button",40),i.NdJ("click",function(){const s=i.CHM(o).$implicit;return i.oxw(2).mostrarHorarios(s)}),i._uU(1),i.qZA()}if(2&t){const o=n.$implicit;i.xp6(1),i.Oqu(o)}}function Io(t,n){if(1&t&&(i.TgZ(0,"p",41),i._uU(1),i.qZA()),2&t){const o=i.oxw(2);i.xp6(1),i.AsE("",o.especialistaSeleccionado.nombre," ",o.especialistaSeleccionado.apellido," ya no tiene dias disponibles, sentimos las molestias")}}function Fo(t,n){if(1&t){const o=i.EpF();i.TgZ(0,"button",44),i.NdJ("click",function(){const s=i.CHM(o).$implicit;return i.oxw(3).seleccionarTurno(s)}),i._uU(1),i.qZA()}if(2&t){const o=n.$implicit;i.xp6(1),i.Oqu(o)}}function ko(t,n){if(1&t&&(i.TgZ(0,"div"),i.TgZ(1,"div",36),i.TgZ(2,"div",42),i.YNc(3,Fo,2,1,"button",43),i.qZA(),i.qZA(),i.qZA()),2&t){const o=i.oxw(2);i.xp6(3),i.Q6J("ngForOf",o.horasArray)}}function wo(t,n){if(1&t&&(i.TgZ(0,"div",34),i.TgZ(1,"div",36),i.TgZ(2,"div",37),i.YNc(3,Eo,2,1,"button",38),i.qZA(),i.qZA(),i.YNc(4,Io,2,2,"p",39),i.YNc(5,ko,4,1,"div",0),i.qZA()),2&t){const o=i.oxw();i.xp6(3),i.Q6J("ngForOf",o.diasArrayFiltrados),i.xp6(1),i.Q6J("ngIf",o.sinDias),i.xp6(1),i.Q6J("ngIf",o.verHoras)}}let So=(()=>{class t{constructor(o,e,a,s,d,u,p,v){this.fs=o,this.hs=e,this.es=a,this.ts=s,this.as=d,this.turnoService=u,this.fp=p,this.dp=v,this.especialistas="",this.pacientes="",this.especialidades="",this.horarios="",this.tablaEspecialidades=!1,this.tablaEspecialistas=!1,this.tablaPacientes=!1,this.especialidadSeleccionada="",this.horarioEspecialista="",this.especialistaSeleccionado="",this.arrayEspecialistasTodos=[],this.turnos="",this.turno="",this.verTurnos=!1,this.pacienteActual="",this.pacienteCargado=!1,this.horarioEspecialidad="",this.fecha="",this.diasArray=[],this.diasArrayParseado=[],this.diasArrayFiltrados=[],this.horasArray=[],this.verHoras=!1,this.diaSeleccionado="",this.tieneHorarios=!1,this.especialidadesEspecialista=[],this.arrayTurnoSegunDia=[],this.sinDias=!1,this.especialistas=this.fs.especialistasArray,this.fecha=new Date,this.fs.traerEspecialistas().subscribe(_=>{this.especialistas=_}),this.es.traerEspecialidades().subscribe(_=>{this.especialidades=_}),this.hs.traerHorarios().subscribe(_=>{this.horarios=_}),this.fs.traerPacientes().subscribe(_=>{this.pacientes=_}),this.turnoService.traerTurnos().subscribe(_=>{this.todosLosTurnos=_})}ngOnInit(){}cargarEspecialistas(){this.tablaEspecialistas?this.tablaEspecialistas=!1:(this.tablaEspecialistas=!0,this.tablaPacientes=!1,this.especialidadesEspecialista=[],this.tablaEspecialidades=!1,this.diasArrayFiltrados=[],this.horasArray=[]),this.horasArray=[],this.diasArrayFiltrados=[],this.especialidadSeleccionada=""}asignarPaciente(o){this.pacienteActual=o,this.pacienteCargado=!0,this.tablaPacientes=!1}cargarPacientes(){this.tablaPacientes=!this.tablaPacientes}filtrarHorarios(){for(let o of this.horarios)for(let e of o.horariosEspecialidad)o.especialista.dni==this.especialistaSeleccionado.dni&&e.nombre==this.especialidadSeleccionada.nombre&&(this.horarioEspecialista=o,this.horarioEspecialidad=e,this.tieneHorarios=!0)}seleccionarEspecialista(o){"paciente"==this.as.logeado.perfil&&(this.pacienteActual=this.as.logeado),this.tablaEspecialistas=!1,this.tablaEspecialidades=!1,this.especialistaSeleccionado=o,this.listarEspecialidades(),1==this.especialidadesEspecialista.length?(this.especialidadSeleccionada=this.especialidadesEspecialista[0],this.filtrarHorarios(),this.tieneHorarios?(this.mostrarTurnos(),this.verTurnos=!0):this.ts.error("Ese especialista no tiene horarios","Especialista sin horarios")):this.tablaEspecialidades=!0}seleccionarEspecialidad(o){""!=this.especialidadSeleccionada&&(this.especialidadSeleccionada=o,this.diasArrayFiltrados=[],this.horasArray=[]),this.especialidadSeleccionada=o,this.tablaEspecialistas=!1,this.filtrarHorarios(),this.tieneHorarios?(this.mostrarTurnos(),this.verTurnos=!0):this.ts.error("Ese especialista no tiene horarios","Especialista sin horarios")}listarEspecialidades(){for(let o of this.especialistaSeleccionado.especialidad)this.especialidadesEspecialista.push(o)}estaElTurnoDisponible(o){return!Boolean(this.todosLosTurnos.filter(e=>e.especialidad.nombre==this.especialidadSeleccionada.nombre&&e.especialista.dni==this.especialistaSeleccionado.dni&&e.fecha.dia===o.dia&&e.fecha.hora===o.hora&&-1!=["Aceptado","Pendiente"].indexOf(e.estado)).length)}cargarDias(){this.diasArray=[];let o=new Date,e=new Date;for(let a=0;a<15;a++)"Sun,"!==e.toUTCString().split(" ")[0]&&this.diasArray.push(e.toUTCString().split(" ")[0]+e.toUTCString().split(" ")[1]+" "+e.toUTCString().split(" ")[2]+" "+e.toUTCString().split(" ")[3]),e.setDate(o.getDate()+1),o.setDate(o.getDate()+1)}filtrarDias(){this.diasArrayParseado=this.fp.transform(this.diasArray);for(let o of this.diasArrayParseado)for(let e of this.horarioEspecialidad.dias){let a=o.split(" ");if(e=this.dp.transform(e),e==a[0]&&(this.arrayTurnoSegunDia=this.todosLosTurnos.filter(d=>d.especialidad.nombre==this.especialidadSeleccionada.nombre&&d.especialista.dni==this.especialistaSeleccionado.dni&&d.fecha.dia===o&&"Pendiente"==d.estado),this.cargarHoras(this.horarioEspecialidad.rangoHorario[0],this.horarioEspecialidad.rangoHorario[1]).length-this.arrayTurnoSegunDia.length>0)){let d=this.cargarHoras(this.horarioEspecialidad.rangoHorario[0],this.horarioEspecialidad.rangoHorario[1],o);1==d.length&&(o=o+" "+d[0]),this.diasArrayFiltrados.push(o)}}}mostrarTurnos(){this.cargarDias(),this.filtrarDias(),1==this.diasArrayFiltrados.length?this.mostrarHorarios(this.diasArrayFiltrados[0]):0==this.diasArrayFiltrados.length?this.sinDias=!0:this.verTurnos=!0}mostrarHorarios(o){let e=o.split(" ");3==e.length?(this.diaSeleccionado=e[0]+" "+e[1],this.seleccionarTurno(e[2])):(this.diaSeleccionado=o,this.horasArray=this.cargarHoras(this.horarioEspecialidad.rangoHorario[0],this.horarioEspecialidad.rangoHorario[1]),this.verHoras=!0)}cargarHoras(o,e,a=""){let s,d,p,v,u=[];s=o.split(":"),d=e.split(":"),p=parseInt(s[0]);do{v=""!=a?{dia:a,hora:p+":"+s[1]}:{dia:this.diaSeleccionado,hora:p+":"+s[1]},this.estaElTurnoDisponible(v)&&u.push(p+":"+s[1]),"00"==s[1]?s[1]="30":"30"==s[1]&&(s[1]="00",p+=1)}while(p<=parseInt(d[0])-1||"30"==s[1]);return u}seleccionarTurno(o){this.fecha={dia:this.diaSeleccionado,hora:o},this.turno={paciente:this.pacienteActual,especialista:this.especialistaSeleccionado,especialidad:this.especialidadSeleccionada,estado:"Pendiente",fecha:this.fecha},this.turnoService.agregarTurno(this.turno),this.as.loading=!0,setTimeout(()=>{this.ts.success("Se ha cargado el turno","Turno solicitado exitosamente"),this.as.loading=!1},2e3),this.tablaPacientes=!1,this.tablaEspecialidades=!1,this.tablaEspecialistas=!1,this.turnos=[],this.verTurnos=!1,this.verHoras=!1,this.pacienteCargado=!1,this.pacienteActual="",this.diasArrayFiltrados=[],this.horasArray=[],this.especialidadesEspecialista=[],this.diaSeleccionado="",this.especialidadSeleccionada="",this.especialistaSeleccionado="",this.sinDias=!1}}return t.\u0275fac=function(o){return new(o||t)(i.Y36(P.C),i.Y36(_o.p),i.Y36(uo.u),i.Y36(N._W),i.Y36(q.e),i.Y36(U.D),i.Y36(po.j),i.Y36(mo.g))},t.\u0275cmp=i.Xpm({type:t,selectors:[["app-solicitar-turno"]],decls:15,vars:10,consts:[[4,"ngIf"],[1,"container"],["class","row justify-content-center text-center",4,"ngIf"],["class","p-3",4,"ngIf"],["div","","style","background-color: rgba(0, 0, 0, 0.623);",4,"ngIf"],["style","background-color: rgba(0, 0, 0, 0.623);",4,"ngIf"],[1,"row","justify-content-center","text-center"],[1,"card","button","col-5","ms-2","me-2",2,"border-radius","2px",3,"click"],[1,"card-title"],["src","../../../assets/paciente2.jpg",1,"card-img-top",2,"width","370px","height","280px","border-radius","2px"],[1,"card-body"],[1,"card-title","fs-4","mt-2",2,"color","rgb(231, 226, 226)"],[1,"p-3"],[1,"text-light","mt-2"],[1,"row","justify-content-around","m-2","text-center"],["class","card bg-dark text-white mt-2 col-4 ","style","width: 20em; height: 12em; border-color: rgba(34, 123, 196, 0.925); cursor: pointer;",4,"ngFor","ngForOf"],[1,"card","bg-dark","text-white","mt-2","col-4",2,"width","20em","height","12em","border-color","rgba(34, 123, 196, 0.925)","cursor","pointer"],[1,"card-body",3,"click"],[1,"row"],[1,"col-6","d-flex"],["width","20px","height","120px",1,"card-img-top","col-5","me-3",3,"src"],["width","20px","height","120px",1,"card-img-top","col-5","ms-3",3,"src"],[1,"card-title","mt-3"],[1,"card","button","col-5","ms-2",2,"border-radius","2px",3,"click"],["src","../../../assets/especialista2.jpg",1,"card-img-top",2,"height","280px","border-radius","2px"],[1,"card-title","fs-4","mt-2","mb-0",2,"color","rgb(231, 226, 226)"],[1,"col-5","ms-2",2,"border-radius","2px"],[1,"botonon","fs-3",3,"click"],["div","",2,"background-color","rgba(0, 0, 0, 0.623)"],["class","card bg-dark text-white mt-2 me-3 col-6 ","style","width: 10em; height: 14em; border-color: rgba(34, 123, 196, 0.925); cursor: pointer;",4,"ngFor","ngForOf"],[1,"card","bg-dark","text-white","mt-2","me-3","col-6",2,"width","10em","height","14em","border-color","rgba(34, 123, 196, 0.925)","cursor","pointer"],["width","10px","height","120px",1,"card-img-top",3,"src"],["class","card bg-dark text-white mt-2 me-3 col-6 ","style","width: 12em; height: 14em; border-color: rgba(34, 123, 196, 0.925); cursor: pointer;",4,"ngFor","ngForOf"],[1,"card","bg-dark","text-white","mt-2","me-3","col-6",2,"width","12em","height","14em","border-color","rgba(34, 123, 196, 0.925)","cursor","pointer"],[2,"background-color","rgba(0, 0, 0, 0.623)"],[1,"card","bg-dark","text-white","mt-2","me-3","col-6",2,"width","12em","height","14em","border-color","rgba(34, 123, 196, 0.925)"],[1,"row","justify-content-around"],[1,"col-7","text-center",2,"overflow-y","auto"],["type","button","class","button3 ms-3 me-3",3,"click",4,"ngFor","ngForOf"],["class","text-light text-center fs-3 pt-3 pb-3",4,"ngIf"],["type","button",1,"button3","ms-3","me-3",3,"click"],[1,"text-light","text-center","fs-3","pt-3","pb-3"],[1,"mt-2","ml-1","col-7","text-center",2,"overflow-y","auto"],["type","button","class","buttonHora ms-3 me-3",3,"click",4,"ngFor","ngForOf"],["type","button",1,"buttonHora","ms-3","me-3",3,"click"]],template:function(o,e){1&o&&(i._UZ(0,"app-navbar"),i.YNc(1,go,2,1,"div",0),i.TgZ(2,"div",1),i.YNc(3,Zo,8,1,"div",2),i.YNc(4,xo,11,4,"div",3),i.YNc(5,bo,7,0,"div",2),i.YNc(6,Ao,7,0,"div",2),i.YNc(7,Co,4,0,"div",2),i.qZA(),i._UZ(8,"br"),i.YNc(9,Mo,5,1,"div",4),i._UZ(10,"br"),i.YNc(11,No,5,1,"div",4),i.YNc(12,Jo,9,2,"div",5),i._UZ(13,"br"),i.YNc(14,wo,6,3,"div",5)),2&o&&(i.xp6(1),i.Q6J("ngIf",e.as.loading),i.xp6(2),i.Q6J("ngIf","admin"==e.as.logeado.perfil&&""==e.pacienteActual),i.xp6(1),i.Q6J("ngIf",""!=e.pacienteActual&&"admin"==e.as.logeado.perfil),i.xp6(1),i.Q6J("ngIf","admin"==e.as.logeado.perfil&&""!=e.pacienteActual&&""==e.especialistaSeleccionado),i.xp6(1),i.Q6J("ngIf","admin"!=e.as.logeado.perfil&&""==e.especialistaSeleccionado),i.xp6(1),i.Q6J("ngIf",""!=e.especialistaSeleccionado),i.xp6(2),i.Q6J("ngIf",e.tablaEspecialistas),i.xp6(2),i.Q6J("ngIf",e.tablaEspecialidades),i.xp6(1),i.Q6J("ngIf",""!=e.especialistaSeleccionado&&1==e.especialistaSeleccionado.especialidad.length&&""!=e.especialidadSeleccionada),i.xp6(2),i.Q6J("ngIf",e.verTurnos))},directives:[J.S,T.O5,vo.O,T.sg],styles:[".button[_ngcontent-%COMP%]{background-color:#000000d3;color:#fff;padding:10px 15px;margin:8px 0;border:none;border-radius:2px;cursor:pointer;width:400px;height:400px}.button[_ngcontent-%COMP%]:hover{background-color:#1b1b1bd3}.gridTurnos[_ngcontent-%COMP%]{overflow-y:scroll;max-height:350px}.button2[_ngcontent-%COMP%]{background-color:#761daa;color:#fff;padding:10px 15px;margin:8px 0;border:none;border-radius:2px;width:100%;opacity:.9;font-size:16px}.button2[_ngcontent-%COMP%]:hover:enabled{background-color:#9126cf}.button3[_ngcontent-%COMP%]{background-color:#761daaec;color:#fff;padding:10px 15px;margin:8px;border:none;border-radius:2px;cursor:pointer;width:150px;height:100px}.buttonHora[_ngcontent-%COMP%]{background-color:#761daaec;color:#fff;padding:10px 15px;margin:8px;border:none;border-radius:2px;cursor:pointer;width:100px;height:60px}.button3[_ngcontent-%COMP%]:hover{background-color:#9126cfec}.botonon[_ngcontent-%COMP%]{background-color:#000000a9;color:#fff;padding:10px 15px;margin:8px 0;border:none;border-radius:2px;cursor:pointer;width:400px;height:150px}.botonon[_ngcontent-%COMP%]:hover{background-color:#1b1b1bd3}"]}),t})();function Do(t,n){1&t&&(i.TgZ(0,"h2",8),i._uU(1,"No hay turnos"),i.qZA())}function Yo(t,n){1&t&&(i.TgZ(0,"b"),i._uU(1,"Comentario Administrador:"),i.qZA())}function Qo(t,n){1&t&&(i.TgZ(0,"b"),i._uU(1,"Comentario Especialista:"),i.qZA())}function yo(t,n){1&t&&(i.TgZ(0,"b"),i._uU(1,"Comentario Paciente:"),i.qZA())}function zo(t,n){if(1&t&&(i.TgZ(0,"p"),i.YNc(1,Yo,2,0,"b",2),i._uU(2),i.YNc(3,Qo,2,0,"b",2),i._uU(4),i.YNc(5,yo,2,0,"b",2),i._uU(6),i.qZA()),2&t){const o=i.oxw().$implicit;i.xp6(1),i.Q6J("ngIf",null!=o.comentarioAdministrador),i.xp6(1),i.hij(" ",o.comentarioAdministrador," "),i.xp6(1),i.Q6J("ngIf",null!=o.comentarioEspecialista),i.xp6(1),i.hij(" ",o.comentarioEspecialista," "),i.xp6(1),i.Q6J("ngIf",null!=o.comentarioPaciente),i.xp6(1),i.hij(" ",o.comentarioPaciente," ")}}function Bo(t,n){if(1&t){const o=i.EpF();i.TgZ(0,"div",18),i.TgZ(1,"button",19),i.NdJ("click",function(){i.CHM(o);const a=i.oxw(3);return a.cancelado=!a.cancelado}),i._uU(2,"Cancelar"),i.qZA(),i.qZA()}}function Po(t,n){1&t&&(i.TgZ(0,"small",25),i._uU(1,"Para cancelar el turno es necesario una raz\xf3n"),i.qZA())}function Ho(t,n){1&t&&(i.TgZ(0,"small",25),i._uU(1,"Debe tener entre 10 y 40 caracteres"),i.qZA())}function Lo(t,n){if(1&t&&(i.TgZ(0,"button",26),i._uU(1,"Enviar"),i.qZA()),2&t){const o=i.oxw(4);i.Q6J("disabled",o.form.invalid)}}function Ro(t,n){if(1&t){const o=i.EpF();i.TgZ(0,"div",20),i.TgZ(1,"form",21),i.NdJ("ngSubmit",function(){i.CHM(o);const a=i.oxw().$implicit;return i.oxw(2).cancelarTurno(a)}),i.TgZ(2,"div",4),i.TgZ(3,"div",18),i._UZ(4,"input",22),i.YNc(5,Po,2,0,"small",23),i.YNc(6,Ho,2,0,"small",23),i.qZA(),i.qZA(),i.YNc(7,Lo,2,1,"button",24),i.qZA(),i.qZA()}if(2&t){const o=i.oxw(3);i.xp6(1),i.Q6J("formGroup",o.form),i.xp6(4),i.Q6J("ngIf",null==o.form.controls.comentario.errors?null:o.form.controls.comentario.errors.required),i.xp6(1),i.Q6J("ngIf",(null==o.form.controls.comentario.errors?null:o.form.controls.comentario.errors.minlength)||(null==o.form.controls.comentario.errors?null:o.form.controls.comentario.errors.maxlength)),i.xp6(1),i.Q6J("ngIf",o.cancelado)}}const Oo=function(t,n,o,e,a){return{"card text-dark bg-secondary":t,"card text-dark bg-warning":n,"card text-dark bg-info":o,"card text-dark bg-danger":e,"card text-dark bg-success":a}};function jo(t,n){if(1&t&&(i.TgZ(0,"div"),i.TgZ(1,"div",9),i.TgZ(2,"div",10),i.TgZ(3,"div",11),i.TgZ(4,"b",12),i._uU(5),i.qZA(),i.qZA(),i.TgZ(6,"div",13),i.TgZ(7,"h5",14),i.TgZ(8,"b"),i._uU(9,"Estado:"),i.qZA(),i._uU(10),i.qZA(),i._UZ(11,"p",15),i.TgZ(12,"p"),i.TgZ(13,"b"),i._uU(14,"Paciente:"),i.qZA(),i._uU(15),i.qZA(),i.TgZ(16,"p"),i.TgZ(17,"b"),i._uU(18,"Especialista:"),i.qZA(),i._uU(19),i.qZA(),i.TgZ(20,"p"),i.TgZ(21,"b"),i._uU(22,"Especialidad:"),i.qZA(),i._uU(23),i.qZA(),i.YNc(24,zo,7,6,"p",2),i.TgZ(25,"div",3),i.TgZ(26,"div",4),i.YNc(27,Bo,3,0,"div",16),i.qZA(),i.YNc(28,Ro,8,4,"div",17),i.qZA(),i.qZA(),i.qZA(),i._UZ(29,"br"),i.qZA(),i.qZA()),2&t){const o=n.$implicit,e=i.oxw(2);i.xp6(2),i.Q6J("ngClass",i.qbA(12,Oo,"Pendiente"==o.estado,"Cancelado"==o.estado,"Aceptado"==o.estado,"Rechazado"==o.estado,"Realizado"==o.estado)),i.xp6(3),i.AsE("Fecha: ",o.fecha.dia," ",o.fecha.hora,""),i.xp6(5),i.hij(" ",o.estado," "),i.xp6(5),i.AsE(" ",o.paciente.nombre," ",o.paciente.apellido," "),i.xp6(4),i.AsE(" ",o.especialista.nombre," ",o.especialista.apellido," "),i.xp6(4),i.hij(" ",o.especialidad.nombre," "),i.xp6(1),i.Q6J("ngIf","Cancelado"==o.estado||"Rechazado"==o.estado),i.xp6(3),i.Q6J("ngIf","Pendiente"==o.estado),i.xp6(1),i.Q6J("ngIf",e.cancelado)}}function $o(t,n){if(1&t){const o=i.EpF();i.TgZ(0,"div"),i.TgZ(1,"div",3),i.TgZ(2,"div",4),i.TgZ(3,"input",5),i.NdJ("ngModelChange",function(a){return i.CHM(o),i.oxw().datoABuscar=a})("ngModelChange",function(){return i.CHM(o),i.oxw().buscar()}),i.qZA(),i.qZA(),i.qZA(),i.YNc(4,Do,2,0,"h2",6),i.YNc(5,jo,30,18,"div",7),i._UZ(6,"br"),i.qZA()}if(2&t){const o=i.oxw();i.xp6(3),i.Q6J("ngModel",o.datoABuscar),i.xp6(1),i.Q6J("ngIf",0==o.todosLosTurnos.length),i.xp6(1),i.Q6J("ngForOf",o.todosLosTurnos)}}const Go=[{path:"gestionarTurnos",component:(()=>{class t{constructor(o,e,a){this.turnoService=o,this.fb=e,this.ts=a,this.turnos="",this.todosLosTurnos="",this.especialidadBuscar="",this.especialistaBuscar="",this.cancelado=!1,this.claseCardCancelado="card text-dark bg-danger",this.claseCardEspera="card text-dark bg-warning",this.datoABuscar="",this.turnosFiltradosBusqueda="",this.form=this.fb.group({comentario:["",[r.kI.required,r.kI.maxLength(40),r.kI.minLength(10)]]}),this.turnoService.traerTurnos().subscribe(s=>{this.turnos=s,this.todosLosTurnos=s,this.turnosFiltradosBusqueda=s})}ngOnInit(){}buscar(){var o,e,a,s,d,u,p,v,_,m,g,f,Z,x,b,A;if(this.todosLosTurnos=[],""==this.datoABuscar)this.todosLosTurnos=this.turnos;else for(let l of this.turnosFiltradosBusqueda)(l.especialista.nombre.includes(this.datoABuscar)||l.especialista.apellido.includes(this.datoABuscar)||l.especialidad.nombre.includes(this.datoABuscar)||l.paciente.nombre.includes(this.datoABuscar)||l.paciente.apellido.includes(this.datoABuscar)||l.fecha.dia.includes(this.datoABuscar)||l.fecha.hora.includes(this.datoABuscar)||l.estado.includes(this.datoABuscar)||null!=l.historiaClinica&&((null===(o=l.historiaClinica)||void 0===o?void 0:o.altura.includes(this.datoABuscar))||(null===(e=l.historiaClinica)||void 0===e?void 0:e.peso.includes(this.datoABuscar))||(null===(a=l.historiaClinica)||void 0===a?void 0:a.temperatura.includes(this.datoABuscar))||(null===(s=l.historiaClinica)||void 0===s?void 0:s.presion.includes(this.datoABuscar))||""!=l.historiaClinica.datoDinamico1&&((null===(u=null===(d=l.historiaClinica)||void 0===d?void 0:d.datoDinamico1)||void 0===u?void 0:u.clave.includes(this.datoABuscar))||(null===(v=null===(p=l.historiaClinica)||void 0===p?void 0:p.datoDinamico1)||void 0===v?void 0:v.valor.includes(this.datoABuscar)))||""!=l.historiaClinica.datoDinamico2&&((null===(m=null===(_=l.historiaClinica)||void 0===_?void 0:_.datoDinamico2)||void 0===m?void 0:m.clave.includes(this.datoABuscar))||(null===(f=null===(g=l.historiaClinica)||void 0===g?void 0:g.datoDinamico2)||void 0===f?void 0:f.valor.includes(this.datoABuscar)))||""!=l.historiaClinica.datoDinamico3&&((null===(x=null===(Z=l.historiaClinica)||void 0===Z?void 0:Z.datoDinamico3)||void 0===x?void 0:x.clave.includes(this.datoABuscar))||(null===(A=null===(b=l.historiaClinica)||void 0===b?void 0:b.datoDinamico3)||void 0===A?void 0:A.valor.includes(this.datoABuscar)))))&&this.todosLosTurnos.push(l)}modificarTurnoBD(o,e){return this.turnoService.modificarTurno(o,e)}cancelarTurno(o){var e;o.estado="Cancelado",o.comentarioAdministrador=null===(e=this.form.get("comentario"))||void 0===e?void 0:e.value,this.modificarTurnoBD(Object.assign({},o),o.id).then(a=>{setTimeout(()=>{this.ts.success("Se ha cancelado el turno","Cancelado")},1e3)}).catch(a=>{setTimeout(()=>{this.ts.error("No se cancel\xf3 el turno","Error al cancelar")},1e3)})}}return t.\u0275fac=function(o){return new(o||t)(i.Y36(U.D),i.Y36(r.qu),i.Y36(N._W))},t.\u0275cmp=i.Xpm({type:t,selectors:[["app-turnos"]],decls:6,vars:1,consts:[[1,"container","bg-dark","turnos","p-3",2,"border-radius","2px"],[1,"text-light"],[4,"ngIf"],[1,"container"],[1,"row"],["type","text","placeholder","Busqueda",1,"form-control","col-12",3,"ngModel","ngModelChange"],["class","mt-3 text-light",4,"ngIf"],[4,"ngFor","ngForOf"],[1,"mt-3","text-light"],[1,"card-body",2,"border-radius","2px"],[3,"ngClass"],[1,"card-header"],[1,"fs-5"],[1,"card-body"],[1,"card-title"],[1,"card-text"],["class","col",4,"ngIf"],["class","mt-2 mb-2",4,"ngIf"],[1,"col"],[1,"btn","btn-sm","btn-danger",3,"click"],[1,"mt-2","mb-2"],[3,"formGroup","ngSubmit"],["type","text","placeholder","Razon de la cancelaci\xf3n","formControlName","comentario","required","",1,"form-control"],["class","invalid",4,"ngIf"],["type","submit","class","btn btn-success btn-block mb-3",3,"disabled",4,"ngIf"],[1,"invalid"],["type","submit",1,"btn","btn-success","btn-block","mb-3",3,"disabled"]],template:function(o,e){1&o&&(i._UZ(0,"app-navbar"),i._UZ(1,"br"),i.TgZ(2,"div",0),i.TgZ(3,"h3",1),i._uU(4,"Gestionar Turnos"),i.qZA(),i.YNc(5,$o,7,3,"div",2),i.qZA()),2&o&&(i.xp6(5),i.Q6J("ngIf",!0))},directives:[J.S,T.O5,r.Fj,r.JJ,r.On,T.sg,T.mk,r._Y,r.JL,r.sg,r.u,r.Q7],styles:[".invalid[_ngcontent-%COMP%]{color:#fff}"]}),t})(),canActivate:[M.z,L.u],data:{animation:"TurnosPage"}},{path:"solicitarTurno",component:So,canActivate:[M.z,R],data:{animation:"SolicitarTurnosPage"}},{path:"misTurnos",component:lo,canActivate:[M.z,O],data:{animation:"MisTurnosPage"}}];let Vo=(()=>{class t{}return t.\u0275fac=function(o){return new(o||t)},t.\u0275mod=i.oAB({type:t}),t.\u0275inj=i.cJS({imports:[[C.Bz.forChild(Go)],C.Bz]}),t})(),Wo=(()=>{class t{}return t.\u0275fac=function(o){return new(o||t)},t.\u0275mod=i.oAB({type:t}),t.\u0275inj=i.cJS({imports:[[T.ez,Vo]]}),t})()}}]);